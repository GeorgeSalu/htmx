<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto HTMX</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/htmx/1.9.10/htmx.min.js" integrity="sha512-9qpauSP4+dDIldsrdNEZ2Z7JoyLZGfJsAP2wfXnc3drOh+5NXOBxjlq3sGXKdulmN9W+iwLxRt42zKMa8AHEeg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>

    <h1>projeto htmx</h1>

    <!--
        innerHTML -> coloca o conteudo dentro do elemento de destino
        outerHTML -> substitui todo o elemento de destino pelo conteudo retornado
        afterbegin -> acrescenta o conteudo antes caso tenha algum elemento dentro do pai
        beforeend -> acrescenta o conteudo depois caso tenha algum elemento dentro do pai
        beforebegin -> anexa o conteudo antes do elemento do target
        afterend -> anexa o conteudo depois do elemento do target
        delete -> deleta o retorno
    -->
    <button hx-get="/primeira-rota" hx-target="#primeira-rota" hx-swap="innerHTML" hx-trigger="click once">
        primeira rota
    </button>
    <div id="primeira-rota"></div>

    <br />
    <button hx-get="/users" hx-target="#usuarios" hx-indicator="#loading" hx-vals='{"limit": 3}'>
        buscar usuarios
    </button>

    <div id="usuarios"></div>

    <span id="loading" class="htmx-indicator">
        <img src="img/loading.gif" alt="loading" style="width: 40px; height: 40px;" />
    </span>

    <br />
    <br />
    <h2>Trigger</h2>
    <button id="button-trigger">fazer requisicao</button>

    <button style="display: none;" hx-get="/primeira-rota" hx-target="#efeito-trigger" hx-swap="innerHTML" hx-trigger="click from:#button-trigger">
        trigger efeito
    </button>
    <div id="efeito-trigger"></div>

    <h1>Eventos especiais</h1>

    <div hx-get="/primeira-rota" hx-trigger="load"></div>

    <div style="width: 100%; height: 700px; background-color: brown;"></div>

    <div hx-get="/primeira-rota" hx-trigger="revealed"></div>

    <h1>Hx Vals</h1>

    <button hx-get="/info" hx-target="#info-teste" hx-vals='{"nome": "Matheus", "cargo": "fullstack"}'>
        acessar
    </button>

    <div id="info-teste"></div>

    <h2>Cancelando requisicao</h2>
    <button hx-get="/dados" hx-target="#dados-result" id="buttonDados">
        buscar dados
    </button>

    <button onclick="htmx.trigger('#buttonDados', 'htmx:abort')">
        cancelar (abort)
    </button>

    <div id="dados-result"></div>

    <h2>Consumindo json</h2>

    <button hx-get="/dados-user" hx-target="#dados-user">
        buscar dados user
    </button>

    <div id="dados-user"></div>

</body>
</html>